
{{#> html title='Calendar'}}
<h1><a href="/order"><button class="fc">Objedn√°vka</button></a></h1>
<hr>
<button id="myBtn">Open Modal</button>
<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <p class="eventInfo"></p>
  </div>

</div>
<script>
  // Get the modal
var modal = document.getElementById('myModal');

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on the button, open the modal 

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}
  const calendarAttr = {{{calendarAttr}}}
  $(() => {
    const calendar = $('#calendar').fullCalendar({...calendarAttr, eventClick: function(calEvent, jsEvent, view) {
 $('.eventInfo').text(`${calEvent.name} ${calEvent.surname} <br> ${calEvent.mail} <br> ${calEvent.age}  <br> ${calEvent.phone}`)
    $('#myModal').css('display', 'block')
    $('.popup').css('top', jsEvent.pageY)
    $('.popup').css('left', jsEvent.pageX)

  }})
  })
</script>

<div id='calendar'></div>

{{/html}}

